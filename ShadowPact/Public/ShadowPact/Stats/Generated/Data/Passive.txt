new entry "SHADOW_STRIKE"
type "PassiveData"
data "DisplayName" "Shadow Strike"
data "Description" "Your power flows through your melee weapons adding Cold or Necrotic damage equal to your Charisma modifier to your melee attacks. Two-handed weapons are too large to be infused."
data "Icon" "Spell_Necromancy_ChillTouch"
data "Conditions" "IsMeleeAttack() and not FightingStyle_GreatWeapon(context.Source) and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasPassive('ENHANCED_SHADOWS', context.Source) and HasStatus('SHADOW_STRIKE_COLD', context.Source)):DealDamage(max(0,CharismaModifier*2),Cold);IF(not HasPassive('AgonizingBlast', context.Source) and HasStatus('SHADOW_STRIKE_COLD', context.Source)):DealDamage(max(0,CharismaModifier),Cold);IF(HasPassive('ENHANCED_SHADOWS', context.Source) and not HasStatus('SHADOW_STRIKE_COLD', context.Source)):DealDamage(max(0,CharismaModifier*2),Necrotic);IF(not HasPassive('AgonizingBlast', context.Source) and not HasStatus('SHADOW_STRIKE_COLD', context.Source)):DealDamage(max(0,CharismaModifier),Necrotic)"
data "StatsFunctorContext" "OnAttack"

new entry "ENHANCED_SHADOWS"
type "PassiveData"
data "DisplayName" "Enhanced Shadows"
data "Description" "Enhances Shadow Strike to double your Charisma modifier and Shadow Shroud to add 2 AC and a 10 feet aura which reduces the speed of enemies inside by 10 feet."

new entry "SHADOW_STRIKE_TOGGLE_PASSIVE"
type "PassiveData"
data "DisplayName" "Shadow Strike Damage type"
data "Description" "Toggle On to deal Cold damage with Shadow Strike. Toggle Off to deal Necrotic damage with Shadow Strike."
data "Icon" "Spell_Evocation_ChromaticOrb_Cold"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;Highlighted"
data "ToggleOnFunctors" "ApplyStatus(SHADOW_STRIKE_COLD,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(SHADOW_STRIKE_COLD)"

new entry "PACT_OF_SHADOWS_TRAINING"
type "PassiveData"
data "DisplayName" "Pact of Shadows Training"
data "Description" "Warlocks bound to Shadows favors swift attack with one-handed weapons and stealth."
data "Boosts" "Proficiency(Shortswords);ProficiencyBonus(Skill,Stealth);"

new entry "UnarmouredDefence_Shadows"
type "PassiveData"
data "DisplayName" "Unarmored Defense"
data "Description" "While you are not wearing any armor or shield, your Armor Class equals 10 + your Dexterity modifier + your Charisma modifier."
data "Icon" "PassiveFeature_UnarmoredDefense_Barbarian"
data "Properties" "Highlighted"
data "Boosts" "ACOverrideFormula(10,true,Dexterity,Charisma)"
data "BoostConditions" "not HasShieldEquipped(context.Source) and not WearingArmor(context.Source)"
data "BoostContext" "OnEquip;OnCreate;OnUnequip"